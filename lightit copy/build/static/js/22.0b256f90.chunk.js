"use strict";(self.webpackChunklightit=self.webpackChunklightit||[]).push([[22],{3022:(e,s,t)=>{t.r(s),t.d(s,{default:()=>o});var i=t(5043),l=t(5487),n=t(3204),a=t(3721),c=t(5187),r=t(4362),d=t(579);function o(){const e=(0,a.Zp)(),{user:s}=(0,c.A)(),{experiments:t,fetchExperiments:o}=(0,r.W)();(0,i.useEffect)(()=>{o()},[o]);const x=(0,i.useMemo)(()=>t.filter(e=>{var t;return(null===(t=e.createdBy)||void 0===t?void 0:t.toString())===(null===s||void 0===s?void 0:s.id)}),[t,s]),m=x.length,h=(0,i.useMemo)(()=>{if(!x.length)return 0;return+(x.reduce((e,s)=>e+(s.rating||0),0)/x.length).toFixed(1)},[x]),p=(0,i.useMemo)(()=>{if(!x.length)return 0;const e=x.filter(e=>"approved"===e.status).length;return Math.round(e/x.length*100)},[x]),g=(0,i.useMemo)(()=>[...x].sort((e,s)=>(s.views||0)-(e.views||0)).slice(0,3),[x]),u=[{icon:(0,d.jsx)(n.x$1,{}),title:"Total Students",value:142,change:"+12%",changeType:"positive"},{icon:(0,d.jsx)(n.vd0,{}),title:"Experiments",value:m,change:m>0?"+".concat(x.length):"+0",changeType:"positive"},{icon:(0,d.jsx)(n.gt3,{}),title:"Avg Rating",value:h,change:"+0.2",changeType:"positive"},{icon:(0,d.jsx)(n.v$b,{}),title:"Engagement",value:"".concat(p,"%"),change:p>=0?"+0%":"-0%",changeType:p>=0?"positive":"negative"}];return(0,d.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,d.jsx)(l.P.h1,{className:"text-3xl font-bold mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:"Experiment Analytics"}),(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:u.map((e,s)=>(0,d.jsxs)(l.P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1*s},className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,d.jsx)("div",{className:"text-3xl text-science-blue mb-4",children:e.icon}),(0,d.jsx)("h3",{className:"text-xl font-bold mb-1",children:e.title}),(0,d.jsxs)("div",{className:"flex items-end",children:[(0,d.jsx)("p",{className:"text-3xl font-bold mr-2",children:e.value}),(0,d.jsx)("span",{className:"text-sm ".concat("positive"===e.changeType?"text-green-500":"text-red-500"),children:e.change})]})]},e.title))}),(0,d.jsxs)(l.P.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,d.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,d.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Popular Experiments"}),(0,d.jsxs)("div",{className:"space-y-4",children:[g.map(s=>{var t,i;return(0,d.jsxs)("div",{className:"flex justify-between items-center border-b pb-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-bold",children:s.title}),(0,d.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,d.jsxs)("span",{className:"mr-2",children:["\u2b50 ",null!==(t=s.rating)&&void 0!==t?t:"N/A"]}),(0,d.jsxs)("span",{children:[null!==(i=s.views)&&void 0!==i?i:0," views"]})]})]}),(0,d.jsxs)("button",{className:"text-science-blue hover:underline flex items-center",onClick:()=>e("/experiments/".concat(s.grade,"/").concat(encodeURIComponent(s.title),"/").concat(s._id)),children:["View Details ",(0,d.jsx)(n.Z0P,{className:"ml-1"})]})]},s._id)}),!g.length&&(0,d.jsx)("p",{className:"text-gray-600",children:"No experiments to show yet."})]})]}),(0,d.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,d.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Student Progress"}),(0,d.jsx)("div",{className:"space-y-4",children:[{name:"VictorGowin",progress:80,experiments:5},{name:"Mark Ondugbe",progress:60,experiments:4},{name:"Jossy Rossie",progress:90,experiments:7}].map((e,s)=>(0,d.jsxs)("div",{className:"border-b pb-4 last:border-0 last:pb-0",children:[(0,d.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,d.jsx)("h4",{className:"font-medium",children:e.name}),(0,d.jsxs)("span",{className:"text-sm text-gray-600",children:[e.progress,"%"]})]}),(0,d.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,d.jsx)("div",{className:"bg-science-blue h-2 rounded-full",style:{width:"".concat(e.progress,"%")}})}),(0,d.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:[e.experiments," experiments completed"]})]},s))})]})]})]})}}}]);
//# sourceMappingURL=22.0b256f90.chunk.js.map