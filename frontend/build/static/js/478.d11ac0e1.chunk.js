"use strict";(self.webpackChunklightit=self.webpackChunklightit||[]).push([[478],{6478:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var a=s(9379),l=s(5043),n=s(5487),r=s(3204),i=s(4362),c=s(579);function d(){const{experiments:e}=(0,i.W)(),[t,s]=(0,l.useState)("pending"),[d,o]=(0,l.useState)([]),[x,m]=(0,l.useState)([]);(0,l.useEffect)(()=>{const t=e.flatMap(e=>(e.comments||[]).map(t=>(0,a.A)((0,a.A)({},t),{},{experimentId:e.id,experimentTitle:e.title})));o(t)},[e]),(0,l.useEffect)(()=>{const e="all"===t?[...d]:d.filter(e=>e.status===t);m(e)},[d,t]);return(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsx)("h3",{className:"text-xl font-bold",children:"Comment Moderation"}),(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("span",{className:"mr-2 text-gray-600",children:"Filter:"}),(0,c.jsxs)("select",{className:"border rounded px-3 py-1",value:t,onChange:e=>s(e.target.value),children:[(0,c.jsx)("option",{value:"all",children:"All"}),(0,c.jsx)("option",{value:"pending",children:"Pending"}),(0,c.jsx)("option",{value:"approved",children:"Approved"}),(0,c.jsx)("option",{value:"rejected",children:"Rejected"})]})]})]}),x.length>0?(0,c.jsx)("div",{className:"space-y-4",children:x.map(e=>(0,c.jsxs)(n.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,c.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,c.jsx)("h4",{className:"font-bold",children:e.author}),(0,c.jsxs)("span",{className:"text-sm text-gray-500",children:["on ",e.experimentTitle]})]}),(0,c.jsx)("p",{className:"mb-3",children:e.text}),(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat("approved"===e.status?"bg-green-100 text-green-800":"rejected"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:e.status}),(0,c.jsxs)("div",{className:"flex gap-2",children:["pending"===e.status&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("button",{onClick:()=>{return t=e.id,void o(e=>e.map(e=>e.id===t?(0,a.A)((0,a.A)({},e),{},{status:"approved"}):e));var t},className:"text-green-500 hover:text-green-700",title:"Approve",children:(0,c.jsx)(r.CMH,{})}),(0,c.jsx)("button",{onClick:()=>{return t=e.id,void o(e=>e.map(e=>e.id===t?(0,a.A)((0,a.A)({},e),{},{status:"rejected"}):e));var t},className:"text-red-500 hover:text-red-700",title:"Reject",children:(0,c.jsx)(r.QCr,{})})]}),(0,c.jsx)("button",{onClick:()=>{return t=e.id,void(window.confirm("Delete this comment?")&&o(e=>e.filter(e=>e.id!==t)));var t},className:"text-red-500 hover:text-red-700",title:"Delete",children:(0,c.jsx)(r.qbC,{})})]})]})]},e.id))}):(0,c.jsxs)("div",{className:"text-center py-16",children:[(0,c.jsx)("div",{className:"text-5xl mb-4",children:"\ud83d\udcac"}),(0,c.jsx)("h3",{className:"text-xl font-bold mb-2",children:"No comments found"}),(0,c.jsx)("p",{className:"text-gray-600",children:"all"===t?"There are no comments in the system yet.":"There are no ".concat(t," comments.")})]})]})}}}]);
//# sourceMappingURL=478.d11ac0e1.chunk.js.map