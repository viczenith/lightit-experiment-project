{"version":3,"file":"static/js/22.ed28c52e.chunk.js","mappings":"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","sources":["pages/Educator/AnalyticsPage.jsx"],"sourcesContent":["import React, { useEffect, useMemo } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport {\r\n  FaUser,\r\n  FaBook,\r\n  FaStar,\r\n  FaChartBar,\r\n  FaArrowRight\r\n} from 'react-icons/fa';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { useExperiments } from '../../context/ExperimentContext';\r\n\r\nexport default function AnalyticsPage() {\r\n  const navigate = useNavigate();\r\n  const { user } = useAuth();\r\n  const { experiments, fetchExperiments } = useExperiments();\r\n\r\n  // re‑load on mount\r\n  useEffect(() => {\r\n    fetchExperiments();\r\n  }, [fetchExperiments]);\r\n\r\n  // only this educator’s experiments\r\n  const myExps = useMemo(\r\n    () =>\r\n      experiments.filter(\r\n        (exp) => exp.createdBy?.toString() === user?.id\r\n      ),\r\n    [experiments, user]\r\n  );\r\n\r\n  // total students — you’ll want real data here later\r\n  const totalStudents = 142;\r\n\r\n  // total experiments\r\n  const totalExperiments = myExps.length;\r\n\r\n  // avg rating (assumes you add a .rating field later)\r\n  const avgRating = useMemo(() => {\r\n    if (!myExps.length) return 0;\r\n    const sum = myExps.reduce((acc, e) => acc + (e.rating || 0), 0);\r\n    return +(sum / myExps.length).toFixed(1);\r\n  }, [myExps]);\r\n\r\n  // engagement = percent of experiments approved\r\n  const engagement = useMemo(() => {\r\n    if (!myExps.length) return 0;\r\n    const approved = myExps.filter((e) => e.status === 'approved').length;\r\n    return Math.round((approved / myExps.length) * 100);\r\n  }, [myExps]);\r\n\r\n  // Popular experiments by views\r\n  const popular = useMemo(\r\n    () =>\r\n      [...myExps]\r\n        .sort((a, b) => (b.views || 0) - (a.views || 0))\r\n        .slice(0, 3),\r\n    [myExps]\r\n  );\r\n\r\n  // Mock student progress until you hook real data\r\n  const studentProgress = [\r\n    { name: 'VictorGowin', progress: 80, experiments: 5 },\r\n    { name: 'Mark Ondugbe', progress: 60, experiments: 4 },\r\n    { name: 'Jossy Rossie', progress: 90, experiments: 7 },\r\n  ];\r\n\r\n  const stats = [\r\n    {\r\n      icon: <FaUser />,\r\n      title: 'Total Students',\r\n      value: totalStudents,\r\n      change: '+12%',\r\n      changeType: 'positive',\r\n    },\r\n    {\r\n      icon: <FaBook />,\r\n      title: 'Experiments',\r\n      value: totalExperiments,\r\n      change: totalExperiments > 0 ? `+${myExps.length}` : '+0',\r\n      changeType: 'positive',\r\n    },\r\n    {\r\n      icon: <FaStar />,\r\n      title: 'Avg Rating',\r\n      value: avgRating,\r\n      change: '+0.2',\r\n      changeType: 'positive',\r\n    },\r\n    {\r\n      icon: <FaChartBar />,\r\n      title: 'Engagement',\r\n      value: `${engagement}%`,\r\n      change: engagement >= 0 ? '+0%' : '-0%',\r\n      changeType: engagement >= 0 ? 'positive' : 'negative',\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8\">\r\n      <motion.h1\r\n        className=\"text-3xl font-bold mb-8\"\r\n        initial={{ opacity: 0, y: -20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n      >\r\n        Experiment Analytics\r\n      </motion.h1>\r\n\r\n      {/* Top‑line stats */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12\">\r\n        {stats.map((stat, i) => (\r\n          <motion.div\r\n            key={stat.title}\r\n            initial={{ opacity: 0, y: 30 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: i * 0.1 }}\r\n            className=\"bg-white rounded-2xl shadow-lg p-6\"\r\n          >\r\n            <div className=\"text-3xl text-science-blue mb-4\">\r\n              {stat.icon}\r\n            </div>\r\n            <h3 className=\"text-xl font-bold mb-1\">{stat.title}</h3>\r\n            <div className=\"flex items-end\">\r\n              <p className=\"text-3xl font-bold mr-2\">{stat.value}</p>\r\n              <span\r\n                className={`text-sm ${\r\n                  stat.changeType === 'positive'\r\n                    ? 'text-green-500'\r\n                    : 'text-red-500'\r\n                }`}\r\n              >\r\n                {stat.change}\r\n              </span>\r\n            </div>\r\n          </motion.div>\r\n        ))}\r\n      </div>\r\n\r\n      <motion.div\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\"\r\n      >\r\n        {/* Popular experiments */}\r\n        <div className=\"bg-white rounded-2xl shadow-lg p-6\">\r\n          <h3 className=\"text-xl font-bold mb-4\">Popular Experiments</h3>\r\n          <div className=\"space-y-4\">\r\n            {popular.map((exp) => (\r\n              <div\r\n                key={exp._id}\r\n                className=\"flex justify-between items-center border-b pb-4\"\r\n              >\r\n                <div>\r\n                  <h4 className=\"font-bold\">{exp.title}</h4>\r\n                  <div className=\"flex items-center text-sm text-gray-600\">\r\n                    <span className=\"mr-2\">⭐ {exp.rating ?? 'N/A'}</span>\r\n                    <span>{exp.views ?? 0} views</span>\r\n                  </div>\r\n                </div>\r\n                <button\r\n                  className=\"text-science-blue hover:underline flex items-center\"\r\n                  onClick={() =>\r\n                    navigate(\r\n                      `/experiments/${exp.grade}/${encodeURIComponent(\r\n                        exp.title\r\n                      )}/${exp._id}`\r\n                    )\r\n                  }\r\n                >\r\n                  View Details <FaArrowRight className=\"ml-1\" />\r\n                </button>\r\n              </div>\r\n            ))}\r\n\r\n            {!popular.length && (\r\n              <p className=\"text-gray-600\">No experiments to show yet.</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Student progress (mock) */}\r\n        <div className=\"bg-white rounded-2xl shadow-lg p-6\">\r\n          <h3 className=\"text-xl font-bold mb-4\">Student Progress</h3>\r\n          <div className=\"space-y-4\">\r\n            {studentProgress.map((s, i) => (\r\n              <div\r\n                key={i}\r\n                className=\"border-b pb-4 last:border-0 last:pb-0\"\r\n              >\r\n                <div className=\"flex justify-between mb-1\">\r\n                  <h4 className=\"font-medium\">{s.name}</h4>\r\n                  <span className=\"text-sm text-gray-600\">\r\n                    {s.progress}%\r\n                  </span>\r\n                </div>\r\n                <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                  <div\r\n                    className=\"bg-science-blue h-2 rounded-full\"\r\n                    style={{ width: `${s.progress}%` }}\r\n                  />\r\n                </div>\r\n                <div className=\"text-sm text-gray-600 mt-1\">\r\n                  {s.experiments} experiments completed\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["AnalyticsPage","navigate","useNavigate","user","useAuth","experiments","fetchExperiments","useExperiments","useEffect","myExps","useMemo","filter","exp","_exp$createdBy","createdBy","toString","id","totalExperiments","length","avgRating","reduce","acc","e","rating","toFixed","engagement","approved","status","Math","round","popular","sort","a","b","views","slice","stats","icon","_jsx","FaUser","title","value","change","changeType","FaBook","FaStar","FaChartBar","_jsxs","className","children","motion","h1","initial","opacity","y","animate","map","stat","i","div","transition","delay","_exp$rating","_exp$views","onClick","grade","encodeURIComponent","_id","FaArrowRight","name","progress","s","style","width"],"sourceRoot":""}