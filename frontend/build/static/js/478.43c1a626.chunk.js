"use strict";(self.webpackChunklightit=self.webpackChunklightit||[]).push([[478],{6478:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var l=s(5043),a=s(844),n=s(3204),r=s(4362),i=s(579);function d(){const{experiments:e}=(0,r.W)(),[t,s]=(0,l.useState)("pending"),[d,c]=(0,l.useState)([]),[x,o]=(0,l.useState)([]);(0,l.useEffect)(()=>{const t=e.flatMap(e=>(e.comments||[]).map(t=>({...t,experimentId:e.id,experimentTitle:e.title})));c(t)},[e]),(0,l.useEffect)(()=>{const e="all"===t?[...d]:d.filter(e=>e.status===t);o(e)},[d,t]);return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("h3",{className:"text-xl font-bold",children:"Comment Moderation"}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("span",{className:"mr-2 text-gray-600",children:"Filter:"}),(0,i.jsxs)("select",{className:"border rounded px-3 py-1",value:t,onChange:e=>s(e.target.value),children:[(0,i.jsx)("option",{value:"all",children:"All"}),(0,i.jsx)("option",{value:"pending",children:"Pending"}),(0,i.jsx)("option",{value:"approved",children:"Approved"}),(0,i.jsx)("option",{value:"rejected",children:"Rejected"})]})]})]}),x.length>0?(0,i.jsx)("div",{className:"space-y-4",children:x.map(e=>(0,i.jsxs)(a.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,i.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,i.jsx)("h4",{className:"font-bold",children:e.author}),(0,i.jsxs)("span",{className:"text-sm text-gray-500",children:["on ",e.experimentTitle]})]}),(0,i.jsx)("p",{className:"mb-3",children:e.text}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-xs px-2 py-1 rounded "+("approved"===e.status?"bg-green-100 text-green-800":"rejected"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:e.status}),(0,i.jsxs)("div",{className:"flex gap-2",children:["pending"===e.status&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{onClick:()=>{return t=e.id,void c(e=>e.map(e=>e.id===t?{...e,status:"approved"}:e));var t},className:"text-green-500 hover:text-green-700",title:"Approve",children:(0,i.jsx)(n.CMH,{})}),(0,i.jsx)("button",{onClick:()=>{return t=e.id,void c(e=>e.map(e=>e.id===t?{...e,status:"rejected"}:e));var t},className:"text-red-500 hover:text-red-700",title:"Reject",children:(0,i.jsx)(n.QCr,{})})]}),(0,i.jsx)("button",{onClick:()=>{return t=e.id,void(window.confirm("Delete this comment?")&&c(e=>e.filter(e=>e.id!==t)));var t},className:"text-red-500 hover:text-red-700",title:"Delete",children:(0,i.jsx)(n.qbC,{})})]})]})]},e.id))}):(0,i.jsxs)("div",{className:"text-center py-16",children:[(0,i.jsx)("div",{className:"text-5xl mb-4",children:"\ud83d\udcac"}),(0,i.jsx)("h3",{className:"text-xl font-bold mb-2",children:"No comments found"}),(0,i.jsx)("p",{className:"text-gray-600",children:"all"===t?"There are no comments in the system yet.":`There are no ${t} comments.`})]})]})}}}]);
//# sourceMappingURL=478.43c1a626.chunk.js.map